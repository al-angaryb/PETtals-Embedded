# add_executable(pettals
#         main.c
# )

# target_compile_definitions(pettals PRIVATE
#         WIFI_SSID=\"${WIFI_SSID}\"
#         WIFI_PASSWORD=\"${WIFI_PASSWORD}\"
#         )

# target_include_directories(pettals PRIVATE
#         ${CMAKE_CURRENT_LIST_DIR}
#         ${CMAKE_CURRENT_LIST_DIR}/../.. # for our common lwipopts
#         )

# target_link_libraries(pettals 
#                       pico_stdlib
#                       pico_cyw43_arch_none
#                       pico_cyw43_arch_lwip_threadsafe_background
#                       pico_lwip_iperf
#                       freertos)

# pico_enable_stdio_usb(pettals 1)
# pico_enable_stdio_uart(pettals 0)                      

# pico_add_extra_outputs(pettals)

set(WOLFSSL_USER_SETTINGS on)

    add_executable(pettals
            main.c
            ${PICO_LWIP_CONTRIB_PATH}/apps/ping/ping.c
            )
    target_compile_definitions(pettals PRIVATE
            WIFI_SSID=\"${WIFI_SSID}\"
            WIFI_PASSWORD=\"${WIFI_PASSWORD}\"
            )
    target_include_directories(pettals PRIVATE
            ${CMAKE_CURRENT_LIST_DIR}
            ${CMAKE_CURRENT_LIST_DIR}/../.. # for our common lwipopts
            ${PICO_LWIP_CONTRIB_PATH}/apps/ping
            )
    target_link_libraries(pettals
            pico_cyw43_arch_lwip_threadsafe_background
            pico_stdlib
            pico_lwip_iperf
            hardware_gpio 
            hardware_pwm 
            hardware_clocks
            freertos # FreeRTOS kernel and dynamic heap
            wolfssl 
            )

    pico_enable_stdio_usb(pettals 1)
    pico_enable_stdio_uart(pettals 0)         

    pico_add_extra_outputs(pettals)



